<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <script>
    let posts = [{title:'post one'}];
const user = [{name : 'ankit' , lastuseractivity: 'feb 09 2023'}]


function createPost(post){
    return new Promise((resolve,reject) => {
        setTimeout(() => {
            posts.push(post);
            resolve();
        }, 1000);
    })
}

function updateLastUserActivityTime(){
    return new Promise((resolve,reject) =>{
        setTimeout(() => {
            user.lastactivitytime =  new Date().getTime();
            resolve(user.lastactivitytime);
        }, 1000);
    })
}

function getPost(){
    return new Promise((resolve,reject) => {
        setTimeout(()=>{
            posts.forEach((post)=>{
                console.log(post.title);
                console.log(user.lastactivitytime)
            })
            resolve();
        },1000)
    })
}

function deletePost(){
    return new Promise((resolve,reject) =>{
        if(posts.length >= 1){
            const popped = posts.pop();
            resolve();
        }
        else{
            reject("Error");
        }

    })
}

Promise.all([createPost({title:'post two'}),updateLastUserActivityTime()]).then(getPost().then(()=>deletePost().then(()=>getPost())))
   </script> 
</body>
</html>
